<style>
    @import url(/config/variaveis.css);
    @import url(/css/index.css);

    :host {
        display: flex;
        flex-direction: column;
        width: 60px;
        height: 100vh;
        background-color: #2c3e50;
        color: white;
        transition: width 0.3s ease;
        overflow: hidden;
        position: relative;
    }

    :host(.expanded),
    :host(:hover):not(.fixed),
    :host(:focus-within):not(.fixed) {
        width: 200px;
        box-shadow: 4px 0 10px rgba(0, 0, 0, 0.3);
        z-index: 10;
    }

    .logo {
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        flex-shrink: 0;
        padding: 0;
    }

    .pin-toggle {
        height: 50px;
        background: none;
        border: none;
        color: white;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        transition: background 0.2s;
        flex-shrink: 0;
        width: 100%;
        padding: 0;
        outline: none;
        box-shadow: none;
    }

    .pin-toggle:hover {
        background-color: #34495e;
    }

    nav {
        flex: 1;
        overflow-y: auto;
        overflow-x: hidden;
        display: flex;
        flex-direction: column;
        padding: 5px 0;
        scrollbar-width: thin;
        scrollbar-color: #888 transparent;
    }

    nav::-webkit-scrollbar {
        width: 6px;
    }

    nav::-webkit-scrollbar-thumb {
        background-color: #888;
        border-radius: 4px;
    }

    a {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 12px 0;
        text-decoration: none;
        color: white;
        transition: background 0.2s;
        flex-shrink: 0;
    }

    a:hover {
        background-color: #34495e;
    }

    a .icon {
        font-size: 18px;
        text-align: center;
    }

    a .label {
        display: none;
        margin-left: 10px;
    }

    :host(.expanded) a,
    :host(:hover):not(.fixed) a,
    :host(:focus-within):not(.fixed) a {
        justify-content: flex-start;
        padding: 12px 20px;
    }

    :host(.expanded) a .label,
    :host(:hover):not(.fixed) a .label,
    :host(:focus-within):not(.fixed) a .label {
        display: inline;
    }

    div.logo img {
        height: 95%;
    }
</style>

<div class="logo">
    <img src="/assets/icons/folder.png" alt="logo">
</div>
<button class="pin-toggle" title="Fixar/Desafixar">üìå</button>
<nav>
    <a href="home.html"><span class="icon">üè†</span><span class="label">In√≠cio</span></a>
    <a href="home.html"><span class="icon">üìÅ</span><span class="label">Arquivos</span></a>
    <a href="home.html"><span class="icon">üïì</span><span class="label">Recentes</span></a>
    <a href="home.html"><span class="icon">üóëÔ∏è</span><span class="label">Lixeira</span></a>
    <a href="home.html"><span class="icon">‚öôÔ∏è</span><span class="label">Configura√ß√µes</span></a>
</nav>

<script>
    function initializeComponentScript(component) {
        const parent = component.parentElement;

        if (parent && getComputedStyle(parent).display !== 'flex') {
            parent.style.display = 'flex';
        }

        component.style.display = 'block';
        component.style.flexShrink = '0';

        const next = component.nextElementSibling;
        if (next && getComputedStyle(next).flexGrow === "0") {
            next.style.flex = '1';
            next.style.minWidth = '0';
        }

        const pinButton = component.shadowRoot.querySelector('.pin-toggle');
        let isFixed = false;

        const updateState = () => {
            if (isFixed) {
                component.classList.add('fixed');
                component.classList.add('expanded');
            } else {
                component.classList.remove('fixed');
                component.classList.remove('expanded');
            }
        };

        pinButton.addEventListener('click', () => {
            isFixed = !isFixed;
            updateState();
        });

        updateState();
    }
</script>
